# BleMsg - 蓝牙消息应用

BleMsg是一款基于蓝牙技术的Android消息应用，允许设备之间通过蓝牙进行通信。该项目采用现代Android开发实践和架构构建。

## 项目概述

BleMsg允许用户：
- 发现并连接附近的蓝牙设备
- 建立安全或非安全的蓝牙连接
- 通过蓝牙发送和接收消息
- 查看已连接设备列表
- 管理蓝牙连接

## 架构

项目遵循Clean Architecture原则，采用模块化方法：

### 模块

1. **Presentation模块**
   - 包含使用Jetpack Compose构建的UI组件
   - 实现ViewModels进行UI状态管理
   - 处理用户交互并显示数据

2. **Domain模块**
   - 包含业务逻辑和用例
   - 实现网关接口
   - 管理蓝牙连接和通信

3. **Model模块**
   - 包含数据模型和实体
   - 定义网关接口
   - 保存状态类和常量

### 核心组件

- **Clean Architecture**：通过明确的层次分离关注点
- **MVVM模式**：ViewModels管理UI状态和业务逻辑
- **依赖注入**：使用Hilt进行依赖管理
- **Kotlin协程和Flow**：用于异步操作和响应式编程
- **Jetpack Compose**：现代声明式UI工具包

## 蓝牙实现

应用通过几个关键组件实现蓝牙功能：

- **客户端/服务器模型**：支持蓝牙连接的客户端和服务器角色
- **安全/非安全连接**：支持安全和非安全的蓝牙连接
- **消息处理**：专用组件用于读取和写入消息
- **连接管理**：正确处理连接状态和生命周期

## 使用的技术

- **Kotlin**：主要编程语言
- **Jetpack Compose**：UI框架
- **Hilt**：依赖注入
- **协程和Flow**：异步编程
- **Material Design 3**：UI设计系统
- **Android蓝牙API**：用于蓝牙功能

## 项目状态

该项目目前正在开发中。核心蓝牙功能已实现，但UI和一些功能仍在开发中。

## 开始使用

### 前提条件

- Android Studio Arctic Fox或更新版本
- Android SDK 21+
- Kotlin 1.9.0+

### 构建项目

1. 克隆仓库
2. 在Android Studio中打开项目
3. 同步Gradle文件
4. 在具有蓝牙功能的设备上构建并运行应用

## 权限

应用需要以下权限：
- `BLUETOOTH_CONNECT`：用于连接蓝牙设备
- `BLUETOOTH_SCAN`：用于发现蓝牙设备

## 未来增强

- 完成UI实现
- 添加消息历史持久化
- 实现通过蓝牙共享文件
- 为安全消息添加加密
- 支持蓝牙低功耗(BLE)设备
